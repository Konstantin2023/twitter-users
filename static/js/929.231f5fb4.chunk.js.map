{"version":3,"file":"static/js/929.231f5fb4.chunk.js","mappings":"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","sources":["services/TweetsApi.js","components/BackButton/BackButton.styled.jsx","components/BackButton/BackButton.jsx","components/UsersList/UsersList.styled.jsx","components/UsersListItem/UserListItem.styled.jsx","components/UsersListItem/UsersListItem.jsx","utils/addCommasToNumber.js","utils/constants.js","components/UsersList/UsersList.jsx","components/Skeleton/Skeleton.styled.jsx","components/Skeleton/Skeleton.jsx","components/DropDownMenu/DropDownMenu.styled.jsx","components/DropDownMenu/DropDownMenu.jsx","pages/Tweets/Tweets.styled.jsx","components/ButtonUp/ButtonUp.styled.jsx","components/ButtonUp/ButtonUp.jsx","pages/Tweets/Tweets.jsx","utils/getVisibleUsers.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://64419945fadc69b8e087e3ed.mockapi.io';\r\nconst CARDS_LIMIT = 3;\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nexport async function fetchAllUsers() {\r\n  const response = await axios.get(`/users`);\r\n  return response.data;\r\n}\r\n\r\nexport const fetchUsers = async (page, controllerSignal) => {\r\n  const response = await axios.get(`/users`, {\r\n    params: {\r\n      page,\r\n      limit: CARDS_LIMIT,\r\n    },\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\nexport async function updateUser(user) {\r\n  const response = await axios.put(`/users/${user.id}`, user);\r\n  return response.data;\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const BackButtonStyled = styled(Link)`\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BackButtonStyled } from './BackButton.styled';\r\n\r\nexport function BackButton({ text }) {\r\n  return <BackButtonStyled to=\"/\">{text}</BackButtonStyled>;\r\n}\r\n\r\nBackButton.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 20px;\r\n`;\r\n\r\nexport const LoadMoreBtnStyled = styled.button`\r\n  display: block;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  border: 0;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Item = styled.li`\r\n  position: relative;\r\n  width: 380px;\r\n  height: 460px;\r\n  background-image: linear-gradient(\r\n    114.99deg,\r\n    #471ca9 -0.99%,\r\n    #5736a3 54.28%,\r\n    #4b2a99 78.99%\r\n  );\r\n\r\n  text-align: center;\r\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-bottom: 36px;\r\n  padding-left: 36px;\r\n  padding-right: 36px;\r\n  padding-top: 28px;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 0;\r\n    background-color: #ebd8ff;\r\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\r\n      inset 0px -1.71846px 3.43693px #ae7be3,\r\n      inset 0px 3.43693px 2.5777px #fbf8ff;\r\n    height: 8px;\r\n    z-index: 0;\r\n    width: 380px;\r\n  }\r\n`;\r\n\r\nexport const Logo = styled.img`\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 20px;\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 80px;\r\n  height: 80px;\r\n  background-color: #ebd8ff;\r\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\r\n    inset 0px -2.19582px 4.39163px #ae7be3,\r\n    inset 0px 4.39163px 3.29372px #fbf8ff;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  border: 8px solid #ebd8ff;\r\n`;\r\n\r\nexport const InfoWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  margin-top: 88px;\r\n  margin-bottom: 26px;\r\n`;\r\n\r\nexport const InfoText = styled.p`\r\n  font-family: 'Montserrat';\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n  line-height: 1.2;\r\n  text-transform: uppercase;\r\n\r\n  color: #ebd8ff;\r\n`;\r\n\r\nexport const FollowButton = styled.button`\r\n  padding: 14px 28px;\r\n  width: 196px;\r\n  height: 50px;\r\n  background-color: ${({ isFollowing }) =>\r\n    isFollowing ? '#5CD3A8' : '#EBD8FF'};\r\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\r\n  border-radius: 10px;\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n  line-height: 22px;\r\n  text-transform: uppercase;\r\n  border: 0;\r\n  color: #373737;\r\n  transition: transform 0.3s ease-in-out;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  AvatarWrapper,\r\n  FollowButton,\r\n  InfoText,\r\n  InfoWrapper,\r\n  Item,\r\n  Logo,\r\n} from './UserListItem.styled';\r\nimport logo from '../../images/logo.png';\r\nimport image from '../../images/bg-img.png';\r\nimport { addCommasToNumber } from 'utils/addCommasToNumber';\r\nimport { TailSpin } from 'react-loader-spinner';\r\n\r\nexport function UsersListItem({ twiUser, handleFollowClick }) {\r\n  const { followers, user, tweets, avatar, isFollowed } = twiUser;\r\n  const followersString = addCommasToNumber(followers);\r\n  const [error, setError] = useState(false);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    setIsLoading(true);\r\n\r\n    const updatedUser = {\r\n      ...twiUser,\r\n      followers: isFollowed ? followers - 1 : followers + 1,\r\n      isFollowed: !isFollowed,\r\n    };\r\n\r\n    try {\r\n      await handleFollowClick(updatedUser);\r\n    } catch (error) {\r\n      setError(error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Item>\r\n      <Logo src={logo} alt=\"logo\" width=\"76\" />\r\n      <img src={image} alt=\"bg-img\" width=\"308\" />\r\n      <AvatarWrapper>\r\n        <img src={avatar} alt={user} width=\"62\" />\r\n      </AvatarWrapper>\r\n      <InfoWrapper>\r\n        <InfoText> {tweets} tweets</InfoText>\r\n        <InfoText> {followersString} followers</InfoText>\r\n      </InfoWrapper>\r\n      <FollowButton\r\n        type=\"button\"\r\n        disabled={isLoading}\r\n        name=\"follow\"\r\n        onClick={handleClick}\r\n        isFollowing={isFollowed}\r\n      >\r\n        {isLoading ? (\r\n          <TailSpin\r\n            height={24}\r\n            width={24}\r\n            color=\"#110202\"\r\n            visible={true}\r\n            ariaLabel=\"oval-loading\"\r\n            secondaryColor=\"#3b763a\"\r\n            strokeWidth={2}\r\n            strokeWidthSecondary={2}\r\n          />\r\n        ) : (\r\n          <> {error ? 'Error' : isFollowed ? 'Following' : 'Follow'}</>\r\n        )}\r\n      </FollowButton>\r\n    </Item>\r\n  );\r\n}\r\n\r\nUsersListItem.propTypes = {\r\n  twiUser: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    followers: PropTypes.number.isRequired,\r\n    user: PropTypes.string.isRequired,\r\n    tweets: PropTypes.number.isRequired,\r\n    avatar: PropTypes.string.isRequired,\r\n    isFollowed: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n};\r\n","export function addCommasToNumber(number) {\r\n  const numString = number.toString();\r\n  let numArray = numString.split('');\r\n  numArray.reverse();\r\n  for (let i = 3; i < numArray.length; i += 3) {\r\n    numArray[i] += ',';\r\n  }\r\n  const formattedNum = numArray.reverse().join('');\r\n  return formattedNum;\r\n}\r\n","export const statusFilters = {\r\n  all: 'all',\r\n  followed: 'followed',\r\n  notFollowed: 'notFollowed',\r\n};\r\n\r\nexport const statusFilterOptions = [\r\n  { label: 'All', value: statusFilters.all },\r\n  { label: 'Followed', value: statusFilters.followed },\r\n  { label: 'Not Followed', value: statusFilters.notFollowed },\r\n];\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { List, LoadMoreBtnStyled, Wrapper } from './UsersList.styled';\r\nimport { UsersListItem } from 'components/UsersListItem/UsersListItem';\r\nimport { statusFilters } from 'utils/constants';\r\n\r\nexport const UsersList = ({\r\n  users,\r\n  handleLoadMore,\r\n  isLoading,\r\n  buttonLoading,\r\n  showLoadMore,\r\n  handleFollowClick,\r\n  error,\r\n  filter,\r\n}) => {\r\n  return (\r\n    <Wrapper>\r\n      {users && (\r\n        <List>\r\n          {users.map(user => (\r\n            <UsersListItem\r\n              key={user.id}\r\n              twiUser={user}\r\n              handleFollowClick={handleFollowClick}\r\n              isLoading={isLoading}\r\n              error={error}\r\n              buttonLoading={buttonLoading}\r\n            />\r\n          ))}\r\n        </List>\r\n      )}{' '}\r\n      {showLoadMore && filter === statusFilters.all && (\r\n        <LoadMoreBtnStyled onClick={handleLoadMore} disabled={isLoading}>\r\n          {isLoading ? 'Loading...' : 'Load more users'}\r\n        </LoadMoreBtnStyled>\r\n      )}{' '}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nUsersList.propTypes = {\r\n  users: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  handleLoadMore: PropTypes.func.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  showLoadMore: PropTypes.bool.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  position: relative;\r\n  width: 380px;\r\n  height: 460px;\r\n  background-color: #ccc;\r\n  text-align: center;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-bottom: 36px;\r\n  padding-left: 36px;\r\n  padding-right: 36px;\r\n  padding-top: 28px;\r\n`;\r\n","import React from 'react';\r\nimport { Item, Wrapper } from './Skeleton.styled';\r\n\r\nexport const Skeleton = ({ count = 3 }) => {\r\n  const items = [];\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    items.push(<Item key={i} />);\r\n  }\r\n\r\n  return <Wrapper>{items}</Wrapper>;\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const DropdownContainer = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n  margin-left: 24px;\r\n`;\r\n\r\nexport const DropdownButton = styled.button`\r\n  background-color: #4caf50;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const DropdownContent = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n\r\n  z-index: 1;\r\n`;\r\n\r\nexport const DropdownOption = styled.a`\r\n  color: black;\r\n  padding: 12px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  background-color: #f1f1f1;\r\n\r\n  &:hover {\r\n    background-color: grey;\r\n  }\r\n`;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DropdownButton,\r\n  DropdownContainer,\r\n  DropdownContent,\r\n  DropdownOption,\r\n} from './DropDownMenu.styled';\r\n\r\nexport const Dropdown = ({ options, value, onSelect }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  const handleClick = () => setIsOpen(!isOpen);\r\n\r\n  const handleOptionClick = option => {\r\n    onSelect(option);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleClickOutside = event => {\r\n    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClickOutside, true);\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside, true);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <DropdownContainer ref={dropdownRef}>\r\n      <DropdownButton onClick={handleClick}>\r\n        Select users to show:{' '}\r\n        {options.find(option => option.value === value)?.label}\r\n      </DropdownButton>\r\n      {isOpen && (\r\n        <DropdownContent>\r\n          {options.map(option => (\r\n            <DropdownOption\r\n              key={option.value}\r\n              onClick={() => handleOptionClick(option.value)}\r\n            >\r\n              {option.label}\r\n            </DropdownOption>\r\n          ))}\r\n        </DropdownContent>\r\n      )}\r\n    </DropdownContainer>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  options: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const TitleWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n`;\r\n\r\nexport const Title = styled.p`\r\n  font-size: 3rem;\r\n  margin-bottom: 1rem;\r\n  color: #333;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Button = styled.button`\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 30px;\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n  color: #cb1e1e;\r\n`;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { Button } from './ButtonUp.styled';\r\n\r\nexport const ButtonUp = ({ handleUpButtonClick }) => {\r\n  return (\r\n    <Button onClick={handleUpButtonClick}>\r\n      <FontAwesomeIcon icon={faArrowUp} />\r\n    </Button>\r\n  );\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { fetchAllUsers, fetchUsers, updateUser } from 'services/TweetsApi';\r\nimport { BackButton } from 'components/BackButton/BackButton';\r\nimport { UsersList } from 'components/UsersList/UsersList';\r\nimport { Skeleton } from 'components/Skeleton/Skeleton';\r\nimport { statusFilterOptions, statusFilters } from 'utils/constants';\r\nimport { getVisibleUsers } from 'utils/getVisibleUsers';\r\nimport { Dropdown } from 'components/DropDownMenu/DropDownMenu';\r\nimport { Title, TitleWrapper } from './Tweets.styled';\r\nimport { ButtonUp } from 'components/ButtonUp/ButtonUp';\r\n\r\nconst Tweets = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [allUsersLength, setAllUsersLength] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n  const [showButton, setShowButton] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [showLoadMore, setShowLoadMore] = useState(true);\r\n  const [filter, setFilter] = useState(statusFilters.all);\r\n  const visibleUsers = getVisibleUsers(users, filter);\r\n\r\n  // fetches all data to know all data length\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const users = await fetchAllUsers();\r\n        setAllUsersLength(users.length);\r\n      } catch (e) {\r\n        setError(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // fetching data on paage change to load more\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        if (page === 1) {\r\n          setIsLoading(true);\r\n        }\r\n        const users = await fetchUsers(page);\r\n\r\n        if (page === 1) {\r\n          setUsers([...users]);\r\n          setShowLoadMore(true);\r\n\r\n          return;\r\n        }\r\n        setUsers(prev => [...prev, ...users]);\r\n      } catch (e) {\r\n        setError(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (users.length >= allUsersLength) {\r\n      setShowLoadMore(false);\r\n    }\r\n  }, [users.length, allUsersLength]);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY > 200) {\r\n        setShowButton(true);\r\n      } else {\r\n        setShowButton(false);\r\n      }\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  const handleFilterChange = value => {\r\n    setFilter(value);\r\n  };\r\n\r\n  const handleFollowClick = async user => {\r\n    try {\r\n      setButtonLoading(true);\r\n      console.log(visibleUsers);\r\n      const updatedUser = await updateUser(user);\r\n      const index = users.findIndex(u => u.id === updatedUser.id);\r\n      if (index !== -1) {\r\n        const updatedUsers = [...users];\r\n        updatedUsers[index] = updatedUser;\r\n        setUsers(updatedUsers);\r\n      }\r\n    } catch (e) {\r\n      setError(true);\r\n    } finally {\r\n      setButtonLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpButtonClick = () => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    setPage(prev => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BackButton text=\"Back to Home\" />\r\n      <Dropdown\r\n        options={statusFilterOptions}\r\n        value={filter}\r\n        onSelect={handleFilterChange}\r\n      />\r\n      {error && 'Error, please reload the page'}\r\n      {isLoading ? (\r\n        <Skeleton />\r\n      ) : (\r\n        <>\r\n          {visibleUsers.length === 0 && filter === statusFilters.followed ? (\r\n            <TitleWrapper>\r\n              {' '}\r\n              <Title>Follow more users</Title>\r\n            </TitleWrapper>\r\n          ) : (\r\n            <UsersList\r\n              users={visibleUsers}\r\n              handleLoadMore={handleLoadMore}\r\n              isLoading={isLoading}\r\n              showLoadMore={showLoadMore}\r\n              handleFollowClick={handleFollowClick}\r\n              error={error}\r\n              handleFilterChange={handleFilterChange}\r\n              filter={filter}\r\n              buttonLoading={buttonLoading}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {showButton && <ButtonUp handleUpButtonClick={handleUpButtonClick} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Tweets;\r\n","import { statusFilters } from './constants';\r\n\r\nexport const getVisibleUsers = (users, statusFilter) => {\r\n  switch (statusFilter) {\r\n    case statusFilters.notFollowed:\r\n      return users.filter(user => user.isFollowed === false);\r\n    case statusFilters.followed:\r\n      return users.filter(user => user.isFollowed === true);\r\n    default:\r\n      return users;\r\n  }\r\n};\r\n"],"names":["fetchAllUsers","axios","response","data","fetchUsers","page","controllerSignal","params","limit","updateUser","user","id","BackButtonStyled","styled","Link","BackButton","text","to","Wrapper","List","LoadMoreBtnStyled","Item","Logo","AvatarWrapper","InfoWrapper","InfoText","FollowButton","isFollowing","UsersListItem","twiUser","handleFollowClick","followers","tweets","avatar","isFollowed","followersString","number","numArray","toString","split","reverse","i","length","join","addCommasToNumber","useState","error","setError","isLoading","setIsLoading","handleClick","updatedUser","src","alt","width","image","type","disabled","name","onClick","height","color","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","statusFilters","statusFilterOptions","label","value","UsersList","users","handleLoadMore","buttonLoading","showLoadMore","filter","map","Skeleton","count","items","push","DropdownContainer","DropdownButton","DropdownContent","DropdownOption","Dropdown","options","onSelect","isOpen","setIsOpen","dropdownRef","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","ref","find","option","handleOptionClick","TitleWrapper","Title","Button","ButtonUp","handleUpButtonClick","icon","faArrowUp","setUsers","allUsersLength","setAllUsersLength","setButtonLoading","showButton","setShowButton","setPage","setShowLoadMore","setFilter","visibleUsers","statusFilter","getVisibleUsers","fetchData","prev","handleScroll","window","scrollY","handleFilterChange","console","log","index","findIndex","u","updatedUsers","scrollTo","top","behavior"],"sourceRoot":""}